<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  <title>Survey</title>
</head>
<body>
        <div class="container surveyInfo">
          <h1>Survey</h1>
          <p>Its time to take your Survey! There are ten questions, each question is rated one to five. One will be you completley disagree, and five will be you completeley agree.Be honest, these questions are meant to help you find great friendships! </p>
          <form>
            <div class="form-group">
              <input id="name" type="text" class="form-control" placeholder="Name (Required)">
            </div>
            <div class="form-group">
              <input id="photo" type="text" class="form-control" placeholder="Link to Profile Photo (Required)">
            </div>
            <div class="form-group">
              <label for="question1">I enjoy working in the yard.</label>
              <select class="form-control" id="question1">
                <option value="empty"></option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
              </select>
            </div>
            <div class="form-group">
              <label for="question2">I like waking up at night, and eating a snack.</label>
              <select class="form-control" id="question2">
                <option value="empty"></option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
              </select>
            </div>
            <div class="form-group">
              <label for="question3">Im pretty much an amazing dancer.</label>
              <select class="form-control" id="question3">
                <option value="empty"></option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
              </select>
            </div>
            <div class="form-group">
              <label for="question4">Time is money.</label>
              <select class="form-control" id="question4">
                <option value="empty"></option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
              </select>
            </div>
            <div class="form-group">
              <label for="question5">I love outdoor activities like fishing and hunting.</label>
              <select class="form-control" id="question5">
                <option value="empty"></option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
              </select>
            </div>
            <div class="form-group">
              <label for="question6">Some say im a pretty humble person.</label>
              <select class="form-control" id="question6">
                <option value="empty"></option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
              </select>
            </div>
            <div class="form-group">
              <label for="question7">I would rather watch a movie then go to the thearter.</label>
              <select class="form-control" id="question7">
                <option value="empty"></option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
              </select>
            </div>
            <div class="form-group">
              <label for="question8">I like to dress nice the majority of the time.</label>
              <select class="form-control" id="question8">
                <option value="empty"></option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
              </select>
            </div>
            <div class="form-group">
              <label for="question9">Gym is a second home to me.</label>
              <select class="form-control" id="question9">
                <option value="empty"></option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
              </select>
            </div>
            <div class="form-group">
              <label for="question10">Fist fights are ok as long as a beer is bought after.</label>
              <select class="form-control" id="question10">
                <option value="empty"></option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
              </select>
            </div>
          </form>
          <div class="text-center">
            <button id="submitBtn" type="submit" class="btn btn-success btn-lg">Submit</button>
          </div>
        <!-- //Attempt to Create A Modal Window --> 
        <div id="modalMatch" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        
                    </div>
                    <div class="modal-body">
                        <h2 id="modalName"></h2>
                        <img id="modalImage" src="#">
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
          
          <script type="text/javascript">
            // Activate submit button
            $('#submitBtn').on('click', function(event) {
              event.preventDefault();
              // Gather user inputs
              var userInput = {
                name: $('#name').val().trim(),
                photo: $('#photo').val().trim(),
                scores:[
                  $('#question1').val().trim(),
                  $('#question2').val().trim(),
                  $('#question3').val().trim(),
                  $('#question4').val().trim(),
                  $('#question5').val().trim(),
                  $('#question6').val().trim(),
                  $('#question7').val().trim(),
                  $('#question8').val().trim(),
                  $('#question9').val().trim(),
                  $('#question10').val().trim()
                ]
              };
              console.log(userInput)
              console.log('userInput = ' + JSON.stringify(userInput));
              
              var urlLoc= window.location.origin;

              // Add user inputs to friends list
              $.post(urlLoc + '/api/friends', userInput,
                  function(data) {
                    $("#modalName").text(data.name);
                    $("#modalImage").attr("src",data.photo);
                    $("#modalMatch").modal("show");
                    alert("YAYYY");
            })
          }); 
          </script>

        <footer>
          <div class="container">
            <a href="/api/friends">Find your Friends</a>
            <span>|</span>
            <a href="https://github.com/jbuentello/FriendFinder">GitHub Repo</a>
          </div>
        </footer>

</body>
</html>